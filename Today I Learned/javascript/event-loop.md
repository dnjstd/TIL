# 이벤트 루프(event loop)와 동시성 모델


자바스크립트는 이벤트 루프를 이용해서 비동기 방식으로 동시성을 지원한다.

자바스크립트는 **싱글 스레드 프로그래밍 언어** <br/>
`싱글스레드?` 한번에 하나의 작업만 처리
<br/><br/>

## 이벤트 루프의 과정

1. 함수를 실행하면 함수 호출이 `스택`에 순차적으로 쌓인다. 스택의 맨위에서부터 아래로 한번에 하나의 함수만 처리 할 수 있다. (선입 후출)
- 만약 중간에 오래걸리는 작업이 생기면 나머지 작업들이 무한정 대기를 하는 문제가 생기기 때문에 이를 해결하기 위해서 자바스크립트는 이벤트 루프로 비동기 콜백을 사용해서 동시성을 지원한다.
2. 콜 스택에 적재된 작업을 순차적으로 처리하는 과정에서 `비동기 콜백`(AJAX/ setTimeout /DOM event)이 실행되면 
2. 자바스크립트 엔진에서 처리하지 않고 , 브라우저의 `Web APIs`로 작업을 넘기게 된다. 
3. 작업의 정해진 시간이나 이벤트가 발생하면 Web APIs에서 → `콜백 큐`에 순차적으로 쌓인다.
4. 콜백 큐에 줄 서있던 콜백 함수들은 **_콜스택에 쌓여있던 작업들이 완료되어 빈 상태가 되면_** 그때 콜 스택으로 이동해 실행된다.

<br/><br/>
🌱 정리!
이벤트 루프를 통해서 자바스크립트에서 비동기 작업을 처리할 수 있게 해준다. <br/>
모든 비동기 방식의 API들(setTimeout, ajax, Dom event)은 이벤트 루프를 통해 콜백 함수를 실행한다고 볼 수 있다.  <br/>
이벤트 루프로 동시성을 지원하는 것은, 작업이 동시에 일어나는게 하는 것은 아니고 그렇게 보이도록 하는 것이다.
 <br/> <br/>
![이벤트루프](https://user-images.githubusercontent.com/90748606/160563773-b70ef36d-9597-4e0a-85b1-5aa281ee555d.png)

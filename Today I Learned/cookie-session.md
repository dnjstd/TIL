## Cookie와 Session 사용 이유?

HTTP 프로토콜에는 `비연결성(Connectionless)`과 `비상태성(Stateless)`이라는 특징이 있다.

이는 서버의 자원을 절약하기 위해 모든 사용자의 요청이 연결과 해체의 과정을 거치기 때문에, 
정보가 저장되지 않는 것을 의미한다.
이로 인해 사용자를 식별할 수 없다는 문제가 생겨났다.

> ✨ HTTP의 비연결성과 비상태성을 보완하여 서버가 클라이언트를 식별하게 해주는 것이 쿠키와 세션이다.

<br/>

## Cookie

- 웹사이트에 접속할 때 생성되는 정보를 담은 작은 데이터 파일
- 사용자의 `브라우저(local)에 저장`
- `Key`와 `Value`로 구성된 String 형태 데이터
- 서버의 자원을 사용하지 않는다.
- 쿠키는 클라이언트에서 수정할 수 있기 때문에 위변조의 위험이 존재한다.
    - 따라서 쿠키값(value)를 암호화해야 더욱 안전하다.

### Cookie 사용 목적

**세션 관리(Session Management)**
로그인 상태, 사용자 닉네임, 접속 시간, 장바구니 등의 서버가 알아야할 정보들을 저장한다.

**개인화(Personalization)** 
사용자마다 적합한 페이지를 보여줄 수 있다.

**트래킹(Tracking)**
사용자의 행동과 패턴을 분석하고 기록한다.

<br/>

## Session

- 쿠키 기반이지만 `서버에 저장`
- 브라우저가 종료되기 전까지 사용자 요청을 유지한다.
- `보안` 면에서 쿠키보다 우수하다.
- 각 클라이언트에게 `고유 ID를 부여`한다.
- `세션 ID`로 클라이언트를 구분해서 요구에 맞는 서비스를 제공한다.
- 사용자가 많아질수록 서버 메모리를 차지해 과부하가 발생한다.
<br/>

## Cookie와 Session 차이점

✔️ **저장위치**
쿠키는 로컬에, 세션은 로컬과 서버에 저장된다.

✔️ **보안**
쿠키보다 세션이 상대적으로 안전하다.

✔️ **Lifecycle**
쿠키는 브라우저를 종료해도 파일로 남아있지만, 세션은 브라우저 종료시 세션을 삭제한다.

✔️ **속도**
쿠키는 파일에서 읽기 때문에 더 빠르고. 세션은 서버 처리가 필요하기 때문에 비교적 느리다.
<br/>

## Web Storage (LocalStorage / SessionStorage)
📝 쿠키의 단점을 보완해 만들어진 기술.

| Local Storage | Session Storage | 
|:----------:|:----------:|
| 데이터를 영구적으로 저장 | 브라우저 종료 시 데이터 삭제 |

<br/>


### 데이터를 어디에 저장하면 좋을까?

**팝업 창** : Cookie

**자동 로그인** : LocalStorage

**입력 폼 정보** :  SessionStorage

**비로그인 장바구니** :  SessionStorage
